<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Cvičenie k predmetu CPD"><link href=https://squidfunk.github.io/mkdocs-material/web_services/ rel=canonical><meta name=author content="Martin Húdik"><link rel="shortcut icon" href=../assets/favicon.png><meta name=generator content="mkdocs-1.1, mkdocs-material-5.1.5"><title>Webové služby - Cvičenie k predmetu prednos dát</title><link rel=stylesheet href=../assets/stylesheets/main.df84b5fe.min.css><link rel=stylesheet href=../assets/stylesheets/palette.8435c73a.min.css><meta name=theme-color content=#3f51b5><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../stylesheets/extra.css><link rel="preconnect dns-prefetch" href=https://www.google-analytics.com><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-165560005-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#webova-sluzba class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://squidfunk.github.io/mkdocs-material/ title="Cvičenie k predmetu prednos dát" class="md-header-nav__button md-logo" aria-label="Cvičenie k predmetu prednos dát"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Cvičenie k predmetu prednos dát </span> <span class="md-header-nav__topic md-ellipsis"> Webové služby </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/hudikm/IoTNode_CPD2020.git title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> CPD2020 </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Úloha </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://squidfunk.github.io/mkdocs-material/ title="Cvičenie k predmetu prednos dát" class="md-nav__button md-logo" aria-label="Cvičenie k predmetu prednos dát"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> Cvičenie k predmetu prednos dát </label> <div class=md-nav__source> <a href=https://github.com/hudikm/IoTNode_CPD2020.git title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> CPD2020 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1 checked> <label class=md-nav__link for=nav-1> Úloha <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Úloha data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Úloha </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-1 type=checkbox id=nav-1-1> <label class=md-nav__link for=nav-1-1> Zadanie I <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Zadanie I" data-md-level=2> <label class=md-nav__title for=nav-1-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Zadanie I </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Úvod class=md-nav__link> Úvod </a> </li> <li class=md-nav__item> <a href=../postup/ title="Postup prác" class=md-nav__link> Postup prác </a> </li> <li class=md-nav__item> <a href=../postup/#uloha-na-dopracovanie title=Úloha class=md-nav__link> Úloha </a> </li> <li class=md-nav__item> <a href=../bonus/ title="Dobrovolná úloha" class=md-nav__link> Dobrovolná úloha </a> </li> <li class=md-nav__item> <a href=../RESTapi/ title="Dokumentácia k REST API" class=md-nav__link> Dokumentácia k REST API </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Zadanie II <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Zadanie II" data-md-level=2> <label class=md-nav__title for=nav-1-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Zadanie II </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../uvod_2/ title=Úvod class=md-nav__link> Úvod </a> </li> <li class=md-nav__item> <a href=../uloha2/ title="Postup prác" class=md-nav__link> Postup prác </a> </li> <li class=md-nav__item> <a href=../zadanie2/ title=Úloha class=md-nav__link> Úloha </a> </li> <li class=md-nav__item> <a href=../zadanie2/#dobrovolna-uloha title="Dobrovolná úloha" class=md-nav__link> Dobrovolná úloha </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3 checked> <label class=md-nav__link for=nav-1-3> Teória <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Teória data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Teória </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Webové služby <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Webové služby" class="md-nav__link md-nav__link--active"> Webové služby </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#webova-sluzba class=md-nav__link> Webová služba </a> <nav class=md-nav aria-label="Webová služba"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#restful class=md-nav__link> RESTful </a> </li> <li class=md-nav__item> <a href=#stavove-kody-http class=md-nav__link> Stavové kódy HTTP </a> </li> <li class=md-nav__item> <a href=#pomenovanie-zdrojov class=md-nav__link> Pomenovanie zdrojov </a> </li> <li class=md-nav__item> <a href=#priklady-rest-rozhrani class=md-nav__link> Príklady REST rozhraní </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json class=md-nav__link> JSON </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../maven/ title=Maven class=md-nav__link> Maven </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3-3 type=checkbox id=nav-1-3-3> <label class=md-nav__link for=nav-1-3-3> GIT <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=GIT data-md-level=3> <label class=md-nav__title for=nav-1-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> GIT </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../git/ title=Popis class=md-nav__link> Popis </a> </li> <li class=md-nav__item> <a href=../intelij_git/ title="Použitie v InteliJ" class=md-nav__link> Použitie v InteliJ </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#webova-sluzba class=md-nav__link> Webová služba </a> <nav class=md-nav aria-label="Webová služba"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#restful class=md-nav__link> RESTful </a> </li> <li class=md-nav__item> <a href=#stavove-kody-http class=md-nav__link> Stavové kódy HTTP </a> </li> <li class=md-nav__item> <a href=#pomenovanie-zdrojov class=md-nav__link> Pomenovanie zdrojov </a> </li> <li class=md-nav__item> <a href=#priklady-rest-rozhrani class=md-nav__link> Príklady REST rozhraní </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#json class=md-nav__link> JSON </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Webové služby</h1> <h2 id=webova-sluzba>Webová služba<a class=headerlink href=#webova-sluzba title="Permanent link">&para;</a></h2> <p>Pojem webová služba môžeme chápať ako komunikačný kanál prostredníctvom ktorého dve elektronické zariadenia medzi sebou komunikujú a to prostredníctvom siete internet známej ako World Wide Web. Taktiež si pod týmto pojmom môžeme predstaviť server, ktorý na určitom porte počúva a prijíma žiadosti o poskytnutie dát vo forme web dokumentov(HTML, JSON, XML, obrázky a pod.) . Pri webových službách je štandardom použitie komunikačného protokolu HTTP, ktorý je založený na spracovaní požiadaviek. </p> <p>W3C definuje webovú službu ako softvérový systém navrhnutý na podporu interakcie stroj-stroj, ktorá prebieha cez sieť. Má rozhranie popísané vo formáte, ktorému rozumejú klienti, ktorí chcú danú službu využívať (konkrétne WSDL). Klientské systémy interagujú s webovou službou predpísaným spôsobom pomocou správ SOAP(Simple Object Access Protocol), ktoré sa zvyčajne prenášajú pomocou protokolu HTTP s využitím XML.</p> <p>V dnešnej dobe webové služby založené na SOAP už nie sú také dominantné a do popredia sa dostávajú aj iné architektúry na ktorých sú založené webové služby a to hlavne REST architektúra. Existujú aj ďalšie architektúry ako napr. GraphQL, UDDI, XML-RPC ale zatiaľ niesu natoľko štandardizované aby sa využívali vo väčšom merítku. </p> <p>S pojmom webová služba sa spája aj pojem API, ktorý môžeme preložiť ako aplikačné rozhranie. Všeobecne aplikačné rozhranie slúži na sprístupnenie aplikácie/knižnice/softvéru inej aplikácii. V prípade webovej služby API tak isto slúži na sprístupnenie funkcionality pre inú aplikáciu/službu ale v tomto prípade výmena informácií musí prebiehať po sieti. Inak povedané API odhaľuje funkčnosť aplikácie a/alebo poskytuje údaje tretím stranám. </p> <p>V tejto úlohe budeme používať REST aplikačné rozhranie, ktoré je popísané v nasledujúcich častiach. </p> <h3 id=restful>RESTful<a class=headerlink href=#restful title="Permanent link">&para;</a></h3> <p>REST (Representational State Transfer) architektúra nie je technológia, ktorú si môžeme kúpiť alebo stiahnuť ako knižnicu a následne použiť v aplikácií. Je to skorej filozofický pohľad určujúci formu akou sa vytvára aplikačné rozhranie, ktoré sprístupňuje dáta a služby. </p> <p>Myšlienky a pojmy, ktoré používame na opis systémov „RESTful“, boli predstavené v práci doktora Roya Fieldinga “Architectural Styles and the Design of Network- based Software Architectures”. Tento dokument je prístupný a poskytuje základ pre prax.</p> <p>Táto architektúra je založená na prenose, sprístupnení, manipulovaní textových dát a keďže využíva HTTP protokol tak je aj bez stavová. Pojmem bez stavová môžeme chápať tak, že server si nevedie žiadne záznamy o tom aké, komu alebo kedy nejaké služby/dáta poskytol. Pri správnej implementácii dané rozhranie má poskytovať jednotné vzájomne kompatibilné rozhranie pre komunikáciu rôznych aplikácií na internete. REST API adresuje jednotlivé zdroje pomocou URL adresy. Schéma URL je definovaná v RFC 1738, ktorý nájdete <a href=ietf.org/rfc/rfc1738.txt>tu</a> </p> <p>Príklad adresovania RESTového zdroja:</p> <div class=highlight><pre><span></span><code>http://fakelibrary.org/library
</code></pre></div> <p>Táto adresa sa delí na čast, ktorá určuje protokol, aktuálne je to <code>http</code> a časť, ktorá určuje umiestnenie zdroja v rámci REST rozhrania <code>fakelibrary.org/library</code>. Bez dodatočných informácií nevieme určiť aká služba/zdroj sa pod danou adresou nachádza. </p> <p>V REST rozhraní sú definované nad zdrojom tzv. <code>CRUD</code> operácie: <code>Create</code>(vytvorenie), <code>Read</code>(čítanie), <code>Update</code>(aktualizácia),<code>Delete</code>(vymazanie). Tieto operácie sú implementované pomocou metód HTTP protokolu:</p> <table> <thead> <tr> <th align=left>HTTP Verb</th> <th align=left>CRUD</th> <th align=left>Celá zbierka (napr. <code>/Zákazníci</code>)<br><em>úvodné číslo je kód odozvy http</em></th> <th align=left>Konkrétna položka (napr. <code>/Zákazníci/{id}</code>)</th> </tr> </thead> <tbody> <tr> <td align=left>POST</td> <td align=left>Create</td> <td align=left id=id>201 (Vytvorené), hlavička „Poloha“ s odkazom na / customers / </td> <td align=left>404 (nenájdené), 409 (konflikt), ak zdroj už existuje.</td> </tr> <tr> <td align=left>GET</td> <td align=left>Read</td> <td align=left>200 (OK), zoznam zákazníkov. Na navigáciu vo veľkých zoznamoch použite stránkovanie, triedenie a filtrovanie.</td> <td align=left>200 (OK), jeden zákazník. 404 (nenájdené), ak ID nebolo nájdené alebo neplatné.</td> </tr> <tr> <td align=left>PUT</td> <td align=left>Update / Nahradiť</td> <td align=left>405 (metóda nie je povolená), pokiaľ nechcete aktualizovať / nahradiť všetky prostriedky v celej kolekcii.</td> <td align=left>200 (OK) alebo 204 (bez obsahu). 404 (nenájdené), ak ID nebolo nájdené alebo neplatné.</td> </tr> <tr> <td align=left>PATCH</td> <td align=left>Update / Upraviť</td> <td align=left>405 (metóda nie je povolená), pokiaľ nechcete zmeniť samotnú kolekciu.</td> <td align=left>200 (OK) alebo 204 (bez obsahu). 404 (nenájdené), ak ID nebolo nájdené alebo neplatné.</td> </tr> <tr> <td align=left>DELETE</td> <td align=left>Delete</td> <td align=left>405 (metóda nie je povolená), pokiaľ nechcete odstrániť celú kolekciu - často nie je žiaduce.</td> <td align=left>200 (OK). 404 (nenájdené), ak ID nebolo nájdené alebo neplatné.</td> </tr> </tbody> </table> <p>Existujú aj ďalšie metódy v HTTP tie sa ale tak často v REST rozhraní nepoužívajú. Keďže REST rozhranie nieje úplne štandardizované, tak vzťah medzi HTTP metódami a CRUD operáciami nieje vždy taký ako je znázornený v tabuľke.</p> <p>Dátová reprezentácia zdroja môže byť rôzna, najčastejšie sa používa JSON a XML ale môže to byť ľubovoľná reprezentácia ako napr. TEXT, HTML, JPG, PDF a pod. V HTTP protokole definujeme dátovú reprezentáciu pomocou MIME typov, ktoré sú zapísané v hlavičke HTTP paketu. </p> <p>Kombináciou URL dresy, ktorú používame na určenie adresy zdroja a HTTP metód, ktoré definujú čo s daným zdrojom chceme vykonať a MIME typov v HTTP hlavičke, presne definujeme jednotlivé zdroje RESTového rozhrania. </p> <blockquote> <p><strong>Príklad komunikácie cez REST rozhranie</strong></p> <p><img alt src=../diagrams/out/REST_example.svg> Komunikácie prebieha cez HTTP protokol, ktorý je bez stavový protokol typu Klient/Sever </p> </blockquote> <h3 id=stavove-kody-http>Stavové kódy HTTP<a class=headerlink href=#stavove-kody-http title="Permanent link">&para;</a></h3> <p><strong>Na informovanie o výsledku spracovania požiadavky sa používajú stavové kódy HTTP</strong></p> <p>Stavové kódy odpovedí sú súčasťou špecifikácie HTTP. Existuje ich veľa a vieme s nimi opísať najbežnejšie situácie. Na to aby RESTful služby obsahovali špecifikáciu HTTP, by mali webové rozhrania API vracať príslušné stavové kódy HTTP. Napríklad, keď sa zdroj úspešne vytvorí (napr. požiadavka POST), API by malo vrátiť stavový kód 201. Tu je k dispozícii zoznam platných <a href=https://www.restapitutorial.com/httpstatuscodes.html>stavových kódov HTTP</a>, v ktorých sú uvedené podrobné opisy každého z nich.</p> <p>Najčastejšie používané kódy</p> <ul> <li> <p><code>200 OK</code></p> <p>Všeobecný stavový kód úspechu. Toto je najbežnejší kód. Používa sa na označenie úspešnej operácie.</p> </li> <li> <p><code>201 CREATED - VYTVORENÉ</code></p> <p>Došlo k úspešnému vytvoreniu (prostredníctvom POST alebo PUT). Nastavte hlavičku odpovedi tak, aby obsahovala odkaz na novovytvorený prostriedok (na POST).</p> </li> <li> <p><code>204 NO CONTENT - BEZ OBSAHU</code></p> <p>Označuje úspech, ale v tele odpovede sa nenachádza nič, čo sa často používa na operácie DELETE a PUT.</p> </li> <li> <p><code>400 BAD REQUEST - ZLÁ POŽIADAVKA</code></p> <p>Všeobecná chyba pri vybavovaní žiadosti by spôsobila neplatný stav. Príklady overenia domény, chýbajúce údaje atď.</p> </li> <li> <p><code>401 UNAUTHORIZED</code></p> <p>Chybová odpoveď pre chýbajúci alebo neplatný autentifikačný token.</p> </li> <li> <p><code>403 FORBIDDEN - ZAKÁZANÉ</code></p> <p>Kód chyby, keď používateľ nie je oprávnený na vykonanie operácie alebo zdroj nie je k dispozícii z nejakého dôvodu (napr. Časové obmedzenia atď.).</p> </li> <li> <p><code>404 NOT FOUND - NENÁJDENÉ</code></p> <p>Používa sa, keď sa požadovaný prostriedok nenájde, či už neexistuje, alebo ak existuje číslo 401 alebo 403, ktoré chce služba z bezpečnostných dôvodov maskovať.</p> </li> <li> <p><code>405 METHOD NOT ALLOWED - NEPOVOLENÁ METÓDA</code></p> <p>Používa sa na označenie, že požadovaná adresa URL existuje, ale požadovaná metóda HTTP nie je použiteľná. Napríklad <code>POST /users/12345</code> kde API nepodporuje vytváranie zdrojov týmto spôsobom (s poskytnutým ID). Pri návrate čísla 405 musí byť nastavená hlavička HTTP, ktorá definuje podporované metódy HTTP. V predchádzajúcom prípade by hlavička vyzerala takto: <code>„Allow: GET, PUT, DELETE“</code></p> </li> <li> <p><code>409 CONFLICT</code></p> <p>Príkladmi sú duplicitné položky, napríklad pokus o vytvorenie dvoch zákazníkov s rovnakými informáciami a odstránenie koreňových objektov, keď nie je podporované kaskádové odstraňovanie.</p> </li> <li> <p><code>500 INTERNAL SERVER ERROR - INTERNÁ CHYBA NA SERVERI</code></p> <p>Tento kód nikdy nevracať úmyselne. Väčšinou ho vráti nezachytená výnimka.</p> </li> </ul> <h3 id=pomenovanie-zdrojov>Pomenovanie zdrojov<a class=headerlink href=#pomenovanie-zdrojov title="Permanent link">&para;</a></h3> <p>Okrem správneho používania HTTP metód a návratových hodnôt je pomenovanie zdrojov pravdepodobne najdôležitejšou a najvýznamnejšou problematikou, ktorú treba adresovať pri návrhu zrozumiteľného a používateľsky intuitívneho REST rozhrania. Pri správnom pomenovaní zdrojov REST rozhrania by používateľ mal byť schopný z názvoslovia vydedukovať čo ktorý zdroj obsahuje alebo ako sa používa. </p> <p>Vo finálnej podobe RESTové rozhranie je súbor URL adries na zdroje, ktoré sú väčšinou prezentované vo forme JSON/XML. Každý zdroj má svoju vlastnú URL adresu, ktorá je rozšírená o HTTP metódy ktoré definujú operáciu aká sa má vykonať nad daným zdrojom. </p> <p>Pri pomenovaní zdrojov systému treba používať podstatné mená a nie slovesá, ktoré by definovali činnosť/akciu (na definovanie činnosti máme HTTP metódy).</p> <p>Niektoré príklady zdrojov sú:</p> <ul> <li> <p>Používatelia systému.</p> </li> <li> <p>Kurzy, v ktorých je študent zapísaný.</p> </li> <li> <p>Časová os príspevkov používateľa.</p> </li> <li> <p>Používatelia, ktorí sledujú iného používateľa.</p> </li> </ul> <div class="admonition note"> <p class=admonition-title>Príklad ako by mohlo vyzerať rozhranie objednávkového systému so zákazníkmi</p> <ul> <li> <p>Na vloženie (vytvorenie) nového zákazníka do systému môžeme použiť:</p> <p><code>POST http://www.example.com/customers</code></p> </li> <li> <p>Na získanie údajov o zákazníkovi s ID # 33245:</p> <p><code>GET http://www.example.com/customers/33245</code> Rovnaká URL by sa použila pre PUT a DELETE, na aktualizáciu a odstránenie zákazníka.</p> </li> <li> <p>URL adresy o produktoch</p> <ul> <li> <p>Vytvorenie nového produktu</p> <p><code>POST http://www.example.com/products</code></p> </li> <li> <p>Čítanie, úprava, mazanie produktu na základe ID produktu # 66432</p> <p><code>GET|PUT|DELETE http://www.example.com/products/66432</code></p> </li> </ul> </li> <li> <p>Objednávky - pri objednávkach by sme mohli postupovať podobne ako v prechádzajúci prípadoch ale vieme, že objednávky sú späté s konkrétnym zákazníkom a teda dáva zmysel ich hierarchicky priradiť k zákazníkovi. </p> <ul> <li> <p>Vytvorenie novej objednávky pre zákazník ID <a class="magiclink magiclink-github magiclink-issue" href=https://github.com/squidfunk/mkdocs-material/issues/33245 title="GitHub Issue: squidfunk/mkdocs-material#33245">#33245</a></p> <p><code>POST http://www.example.com/customers/33245/orders</code></p> </li> <li> <p>Získanie všetkých objednávok od jedného zákazníka</p> <p><code>GET http://www.example.com/customers/33245/orders</code></p> </li> <li> <p>Hierarchicky môžeme postupovať ďalej a vytvoriť ďalšie zdroje</p> <ul> <li> <p>Pridanie novej položky do existujúcej objednávky zákazníka</p> <p><code>POST http://www.example.com/customers/33245/orders/8769/items</code> Obdobným spôsobom môžeme vytvoriť aj metódu na získanie všetkých položiek objednávky <code>GET</code></p> </li> <li> <p>Ak by sme pokračovali rovnakým spôsobom aj ďalej tak prístup k jednotlivým položkám objednávky by mohol byť nasledovný</p> <p><code>GET|PUT|DELETE http://www.example.com/customers/33245/orders/8769/items/1</code></p> </li> </ul> </li> </ul> </li> </ul> </div> <p>Pri REST rozhraní nieje nič striktne definované a záleží vždy od konkrétneho návrhu architektov ako výsledné rozhranie bude vyzerať.</p> <h3 id=priklady-rest-rozhrani>Príklady REST rozhraní<a class=headerlink href=#priklady-rest-rozhrani title="Permanent link">&para;</a></h3> <ul> <li><a href=https://developer.tatrabanka.sk/documentation/accounts/tbaccounts>TatraBank API</a></li> <li><a href=https://developer.ebay.com/api-docs/sell/account/resources/methods>ebay API</a></li> <li><a href=https://sluzby.heureka.sk/napoveda/kosik-api/ >Heureka API</a></li> </ul> <h2 id=json>JSON<a class=headerlink href=#json title="Permanent link">&para;</a></h2> <p><strong>JavaScript Object Notation</strong> ( <em><a href=https://cs.wikipedia.org/wiki/JavaScript>javascriptový</a> objektový zápis</em> , <strong>JSON</strong> ) je spôsob zápisu dát (dátový formát) nezávislý na počítačovej platforme, určený pre prenos dát, ktoré môžu byť organizované v poliach alebo zoskupené v objektoch. Vstupom je ľubovoľná dátová štruktúra (číslo, reťazec, boolean, objekt alebo z nich zložené polia), <strong>výstupom je vždy textový reťazec</strong>. Zložitosť hierarchie vstupných premenných nie je teoreticky nijako obmedzená.</p> <div class=highlight><pre><span></span><code>  <span class=p>{</span>
  <span class=nt>&quot;first name&quot;</span><span class=p>:</span> <span class=s2>&quot;John&quot;</span><span class=p>,</span>
  <span class=nt>&quot;last name&quot;</span><span class=p>:</span> <span class=s2>&quot;Smith&quot;</span><span class=p>,</span>
  <span class=nt>&quot;age&quot;</span><span class=p>:</span> <span class=mi>25</span><span class=p>,</span>
  <span class=nt>&quot;address&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;street address&quot;</span><span class=p>:</span> <span class=s2>&quot;21 2nd Street&quot;</span><span class=p>,</span>
    <span class=nt>&quot;city&quot;</span><span class=p>:</span> <span class=s2>&quot;New York&quot;</span><span class=p>,</span>
    <span class=nt>&quot;state&quot;</span><span class=p>:</span> <span class=s2>&quot;NY&quot;</span><span class=p>,</span>
    <span class=nt>&quot;postal code&quot;</span><span class=p>:</span> <span class=s2>&quot;10021&quot;</span>
  <span class=p>},</span>
  <span class=nt>&quot;phone numbers&quot;</span><span class=p>:[{</span>
      <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;home&quot;</span><span class=p>,</span>
      <span class=nt>&quot;number&quot;</span><span class=p>:</span> <span class=s2>&quot;212 555-1234&quot;</span>
    <span class=p>},</span>
    <span class=p>{</span>
      <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=s2>&quot;fax&quot;</span><span class=p>,</span>
      <span class=nt>&quot;number&quot;</span><span class=p>:</span> <span class=s2>&quot;646 555-4567&quot;</span>
    <span class=p>}]</span>
<span class=p>}</span>
</code></pre></div> <p>Ako Java objekt tzv. POJO(Plain old java object) by daný JSON objekt vyzeral nasledovne:</p> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>Address</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>streetAddress</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>city</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>state</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>postalCode</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>PhoneNumber</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>type</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>number</span><span class=p>;</span>
<span class=p>}</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>User</span> <span class=p>{</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>firstName</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=n>lastName</span><span class=p>;</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=n>age</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>Address</span> <span class=n>address</span><span class=p>;</span>
    <span class=kd>public</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>PhoneNumber</span><span class=o>&gt;</span> <span class=n>phoneNumbers</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../zadanie2/ title=Úloha class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Úloha </div> </div> </a> <a href=../maven/ title=Maven class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Maven </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 Martin Húdik </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.83fe6e3c.min.js></script> <script src=../assets/javascripts/bundle.7e1cb91c.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>